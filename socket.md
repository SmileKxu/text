## 通信 API

HTML5新增的通讯相关的两个功能:跨文档消息传输功能与使用Web Sockets API 来通过socket端口传递数据的功能。

使用跨文档消息传输功能，你可以再不同网页文档、不同端口、不同域之间进行消息的传递。

使用Wrb Sockets API，你可以让客户与服务器通过socket端口来传递数据，这样做的好处是可以实现数据推送技术
服务器端不再是被动的等待客户端发出的请求，只要客户端与服务器端建立了一次连接之后，服务器端就可以在需要的
时候，主动地将数据推送到客户端，直到客户端显示关闭这个连接。

### 跨文档消息传输的基本知识

HTML5 提供了在页面文档之间互相接收与发送信息的功能。使用这个功能，只要获取到网页所在窗口对象的实例，不仅
同源(域+端口号)的Web网页之间可以互相通信，甚至可以实现跨域通信。

首先，要想接受从其他窗口那里发过来的消息，就必须对窗口对象的message事件进行监视，代码如下所示:
```js
window.addEventListener('message', () => {...}, false);
```
使用window对象的postMessage方法向其他窗口发送消息，该方法定义如下:
```js
otherWindow.postMessage(message, targetOrigin);
```
该方法使用两个参数，第一个参数为所发送的消息文本，也可以是任何JavaScript对象(通过JSON转换对象为文本)；
第二个参数为接收消息的对象窗口的URL地址(例如http://localhost:3000/)。可以在URL地址字符串中使用通配符"*" 
